<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">

<script type="text/javascript">
function sub(e){
	alert(e.target.firstChild.nodeValue);
}


function fun1(){//노드정보
	const divEl = document.querySelector('#subjectLayout');
	let str;
	
	//속성 추가
	divEl.setAttribute('title', '과목');
	
	//style 속성 반환
	str = divEl.getAttribute('style');
	
	
	//childNodes : 자식노드(태그, 문자열, 공백, 엔터 포함)
	console.log(divEl.childNodes);//처음실행화면 :  [text, p, text, p, text, p, text]
	//children : 자식노드(태그만 검색)
	console.log(divEl.children);//처음실행화면 : [p, p, p]
	
	str += '자식노드수(p) : ' +divEl.children.length; 
	
	alert(str);
	
}
var idx = 0;

function fun2(){//노드추가
	const divEl = document.querySelector('#subjectLayout');
	// 1. createElement()로 태그를 만듬
	// 2. createTextNode()로 텍스트 만듬
	// 3. appendChild()로 마지막에 노드 추가
	let node = document.createElement('p');//p태그를 만듬
	node.setAttribute('title','추가과목!!!');//p태그에 타이틀속성 추가
	
	node.onclick = function(e){sub(e);};
	
	
	let textNode = document.createTextNode('마지막 - ' +(++idx));
	node.appendChild(textNode);// 마지막에 자식 노드 추가
	
	divEl.appendChild(node);
	
}

function fun3(){//특정노드앞에추가
	const divEl = document.querySelector('#subjectLayout');
	let node = document.createElement('p');//p태그를 만듬
	node.setAttribute('title','추가과목!!!');//p태그에 타이틀속성 추가
	
	node.onclick = function(e){sub(e);};
	
	
	let textNode = document.createTextNode('앞 - ' +(++idx));
	node.appendChild(textNode);
	
	//insertBefore() : 특정 노드 앞에 추가
	divEl.insertBefore(node,divEl.children[0]);//특정노드 앞에 추가
	
}

function fun4(){//노드삭제
	const divEl = document.querySelector('#subjectLayout');
	
	if(divEl.children.length >= 1){//div태그에 자식이 1개이상 존재하면
		divEl.removeChild(divEl.children[0]);//가장 앞 삭제
	}
}

function fun5(){//스타일속성제거
	const divEl = document.querySelector('#subjectLayout');
	
	divEl.style.border= 'none';
	
}

//자바, 안드로이드, 프레임워크에도 클릭이벤트 만들기
window.addEventListener('load',() => {
	//const divEl = document.querySelector('#subjectLayout');
	//const pEls = divEl.querySelectorAll('p'); //
	const pEls = document.querySelector('#subjectLayout').children;//위에 두줄이랑 같은것(모든자식들다가져옴)
	for(let el of pEls){
		el.addEventListener('click',e => sub(e));
	}
		
	});



</script>

</head>
<body>

<h3>노드 추가 및 삭제</h3>

<div id="subjectLayout" style="width:300px; height: 300px; border: 1px solid red;">
	<p>자바</p>
	<p>안드로이드</p>
	<p>프레임워크</p>
</div>
<hr>

<div>
	<p>
		<button type="button" onclick="fun1();">노드정보</button>
		<button type="button" onclick="fun2();">노드추가</button>
		<button type="button" onclick="fun3();">특정노드앞에추가</button>
		<button type="button" onclick="fun4();">노드삭제</button>
		<button type="button" onclick="fun5();">스타일속성제거</button>
	</p>
	
</div>

<script type="text/javascript">

</script>
</body>
</html>