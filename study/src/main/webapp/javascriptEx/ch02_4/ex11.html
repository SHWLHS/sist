<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="icon" href="data:;base64,iVBORw0KGgo=">
</head>
<body>

<h3>함수 - closures : 내부함수는 클로저를 형성</h3>

<!-- 
	클로저는 반환된 내부함수가 자신이 선언되었을때의 환경인 스코프를 기억하여 
	자신이 선언되었을때의 환경(스코프) 밖에서 호출 되어도 그 환경(스코프)에 접근할 수 있는 함수를
	말한다. 
 -->


<script type="text/javascript">
function fun(x){//외부함수 (외부함수에서 내부함수 접근 불가능)
	let n =10;

	// 내부함수(클로저)
	function sub(y){//외부 함수의 변수나 매개변수 접근 가능 
		return n+x+y;//n=10, x=2, y=3
	}
	return sub(3); //외부함수안에서 내부 함수 접근
}

console.log( fun(2));//15

//------------------------------
function fun2(x){
	function sub2(y){
		return x+y;
	}
	return sub2;
}

var fn = fun2(2);//fun2를 호출해 sub2반환 fun2는 2를가지고있음
var n = fn(3);//sub2를 부름
console.log(n);//5

n = fun2(10)(5);//fun2(10)는 sub2를 부름 sub2(5)가 됨
console.log(n);//15

</script>


</body>
</html>